<ion-header>
  <ion-button class="back-button" fill="clear" (click)="goBack()">
    <ion-icon slot="start" name="arrow-back-outline"></ion-icon>
    Volver
  </ion-button>
</ion-header>

<ion-content class="register-container" fullscreen>
  <div class="overlay"></div> <!-- Superposición para el fondo -->

  <div class="content-wrapper">
    <ion-card class="register-card">
      <ion-card-header class="register-title">
        <ion-card-title>Registro</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <form [formGroup]="formRegister" (ngSubmit)="register()">
          <ion-item class="input-item">
            <ion-label position="stacked">Nombre de Usuario</ion-label>
            <ion-input formControlName="user"></ion-input>
          </ion-item>
          <ion-note color="danger" *ngIf="formRegister.get('user')?.invalid && formRegister.get('user')?.touched">
            El usuario debe ser alfanumérico y tener entre 3 y 8 caracteres.
          </ion-note>

          <ion-item class="input-item">
            <ion-label position="stacked">Nombre</ion-label>
            <ion-input formControlName="name"></ion-input>
          </ion-item>
          <ion-note color="danger" *ngIf="formRegister.get('name')?.invalid && formRegister.get('name')?.touched">
            El nombre es obligatorio.
          </ion-note>

          <ion-item class="input-item">
            <ion-label position="stacked">Apellidos</ion-label>
            <ion-input formControlName="lastName"></ion-input>
          </ion-item>
          <ion-note color="danger" *ngIf="formRegister.get('lastName')?.invalid && formRegister.get('lastName')?.touched">
            Los apellidos son obligatorios.
          </ion-note>

          <ion-item class="input-item">
            <ion-label position="stacked">Contraseña</ion-label>
            <ion-input formControlName="password" type="password"></ion-input>
          </ion-item>
          <ion-note color="danger" *ngIf="formRegister.get('password')?.invalid && formRegister.get('password')?.touched">
            La contraseña debe ser numérica y tener exactamente 4 dígitos.
          </ion-note>

          <ion-item class="input-item">
            <ion-label position="stacked">Correo Electrónico</ion-label>
            <ion-input formControlName="email" type="email"></ion-input>
          </ion-item>
          <ion-note color="danger" *ngIf="formRegister.get('email')?.invalid && formRegister.get('email')?.touched">
            Introduce un correo electrónico válido.
          </ion-note>

          <ion-item class="input-item">
            <ion-label position="stacked">Dirección Particular</ion-label>
            <ion-input formControlName="address"></ion-input>
          </ion-item>
          <ion-note color="danger" *ngIf="formRegister.get('address')?.invalid && formRegister.get('address')?.touched">
            La dirección es obligatoria.
          </ion-note>

          <ion-item class="input-item">
            <ion-label position="stacked">Nombre Empresa</ion-label>
            <ion-input formControlName="companyName"></ion-input>
          </ion-item>
          <ion-note color="danger" *ngIf="formRegister.get('companyName')?.invalid && formRegister.get('companyName')?.touched">
            El nombre de la empresa es obligatorio.
          </ion-note>

          <ion-item class="input-item">
            <ion-label position="stacked">Fecha de Nacimiento</ion-label>
            <ion-input formControlName="dateBirth" type="date"></ion-input>
          </ion-item>
          <ion-note color="danger" *ngIf="formRegister.get('dateBirth')?.invalid && formRegister.get('dateBirth')?.touched">
            La fecha de nacimiento es obligatoria y debe tener el formato correcto.
          </ion-note>

          <ion-note color="success" *ngIf="success">
            Usuario registrado correctamente.
          </ion-note>

          <br>
          <ion-button expand="block" class="register-button" type="submit" [disabled]="formRegister.invalid">
            Registrar
          </ion-button>

        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-title>
      © 2024 Grupo3 DUOC-UC
    </ion-title>
  </ion-toolbar>
</ion-footer>
